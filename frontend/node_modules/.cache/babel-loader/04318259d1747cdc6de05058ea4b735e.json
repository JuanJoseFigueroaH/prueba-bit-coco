{"remainingRequest":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js!C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\prueba-bit-coco\\frontend\\src\\components\\ListaProducto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\src\\components\\ListaProducto.vue","mtime":1643999333958},{"path":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642907172876},{"path":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1642907173684},{"path":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1642907173882},{"path":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642907172876},{"path":"C:\\laragon\\www\\prueba-bit-coco\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1642907175054}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nexport default {\n  data: function data() {\n    return {\n      dialog: false,\n      search: '',\n      productos: [],\n      headers: [{\n        text: 'Código',\n        value: 'codigo',\n        sortable: false\n      }, {\n        text: 'Nombre',\n        value: 'nombre',\n        sortable: true\n      }, {\n        text: 'Cantidad',\n        value: 'cantidad',\n        sortable: true\n      }, {\n        text: 'Opciones',\n        value: 'opciones',\n        sortable: false\n      }],\n      editedIndex: -1,\n      id: '',\n      producto: '',\n      listaProductos: [],\n      cantidad: '',\n      valida: 0,\n      validaMensaje: [],\n      adModal: 0,\n      adAccion: 0,\n      adNombre: '',\n      adId: ''\n    };\n  },\n  computed: {\n    formTitle: function formTitle() {\n      return this.editedIndex === -1 ? 'Nuevo registro' : 'Editar registro';\n    }\n  },\n  watch: {\n    dialog: function dialog(val) {\n      val || this.close();\n    }\n  },\n  created: function created() {\n    this.listar();\n    this.selectProducto();\n  },\n  methods: {\n    selectProducto: function selectProducto() {\n      var me = this;\n      axios.get('producto/index').then(function (response) {\n        me.productos = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    listar: function listar() {\n      var me = this;\n      axios.get(\"lista-producto/index/\".concat(this.$store.state.usuario.id)).then(function (response) {\n        me.listaProductos = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    limpiar: function limpiar() {\n      this.id = '';\n      this.producto = '';\n      this.cantidad = '';\n      this.editedIndex = -1;\n    },\n    guardar: function guardar() {\n      var me = this;\n\n      if (this.editedIndex > -1) {\n        axios.put(\"lista-producto/update/\".concat(me.id), {\n          'producto': this.producto,\n          'cantidad': this.cantidad,\n          'user': this.$store.state.usuario.id\n        }).then(function (response) {\n          Swal.fire('Modificado!', 'Su registro ha sido modificado.', 'success');\n          me.limpiar();\n          me.close();\n          me.listar();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        axios.post('lista-producto/store', {\n          'producto': this.producto,\n          'cantidad': this.cantidad,\n          'user': this.$store.state.usuario.id\n        }).then(function (response) {\n          Swal.fire('Registrado!', 'Su registro ha sido creado.', 'success');\n          me.limpiar();\n          me.close();\n          me.listar();\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    },\n    editItem: function editItem(item) {\n      this.id = item.idList;\n      this.producto = item.idPro;\n      this.cantidad = item.cantidad;\n      this.dialog = true;\n      this.editedIndex = 1;\n    },\n    deleteItem: function deleteItem(id) {\n      console.log(id);\n      var me = this;\n      Swal.fire({\n        title: 'Estas seguro?',\n        text: \"No podrás revertir esto!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: '¡Sí, bórralo!',\n        cancelButtonText: 'Cancelar'\n      }).then(function (result) {\n        if (result.isConfirmed) {\n          axios.get(\"lista-producto/delete/\".concat(id)).then(function (response) {\n            Swal.fire('Eliminado!', 'Su registro ha sido eliminado.', 'success');\n            me.listar();\n          }).catch(function (error) {\n            console.log(error);\n          });\n        }\n      });\n    },\n    close: function close() {\n      this.dialog = false;\n    }\n  }\n};",{"version":3,"sources":["ListaProducto.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <v-layout align-start>\r\n        <v-flex>\r\n            <v-toolbar flat color=\"white\">\r\n                <v-toolbar-title>Lista De Productos</v-toolbar-title>\r\n                <v-divider\r\n                    class=\"mx-2\"\r\n                    inset\r\n                    vertical\r\n                ></v-divider>\r\n                <v-spacer></v-spacer>\r\n                <v-text-field class=\"text-xs-center\" v-model=\"search\" append-icon=\"search\" \r\n                label=\"Búsqueda\" single-line hide-details></v-text-field>\r\n                <v-spacer></v-spacer>\r\n                <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <v-btn color=\"primary\" dark class=\"mb-2\" v-on=\"on\">Nuevo</v-btn>\r\n                    </template>\r\n                    <v-card>\r\n                        <v-card-title>\r\n                        <span class=\"headline\">{{ formTitle }}</span>\r\n                        </v-card-title>            \r\n                        <v-card-text>\r\n                        <v-container grid-list-md>\r\n                            <v-layout wrap>\r\n                                <v-flex xs6 sm6 md6>\r\n                                    <v-select v-model=\"producto\" outline\r\n                                        :items=\"productos\"\r\n                                        item-text=\"nombre\"\r\n                                        item-value=\"id\"\r\n                                        label=\"Producto\">\r\n                                    </v-select>\r\n                                </v-flex>\r\n                                <v-flex xs6 sm6 mdd6>\r\n                                    <v-text-field v-model=\"cantidad\" label=\"Cantidad\" outline>                                        \r\n                                    </v-text-field>\r\n                                </v-flex>\r\n                            </v-layout>\r\n                        </v-container>\r\n                        </v-card-text>            \r\n                        <v-card-actions>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn color=\"blue darken-1\" flat @click=\"close\">Cancelar</v-btn>\r\n                        <v-btn color=\"blue darken-1\" flat @click=\"guardar\">Guardar</v-btn>\r\n                        </v-card-actions>\r\n                    </v-card>\r\n                </v-dialog>\r\n            </v-toolbar>\r\n            <v-data-table\r\n                :headers=\"headers\"\r\n                :items=\"listaProductos\"\r\n                :search=\"search\"\r\n                class=\"elevation-1\"\r\n            >\r\n                <template v-slot:items=\"props\">\r\n                    <td>{{ props.item.codigo }}</td>\r\n                    <td>{{ props.item.nombre }}</td>\r\n                    <td>{{ props.item.cantidad }}</td>    \r\n                    <td class=\"ml-4 layout px-0\">\r\n                        <v-icon\r\n                            small\r\n                            class=\"mr-2\"\r\n                            @click=\"editItem(props.item)\"\r\n                        >\r\n                            edit\r\n                        </v-icon>\r\n                        <v-icon\r\n                            small\r\n                            class=\"mr-2\"\r\n                            @click=\"deleteItem(props.item.idList)\"\r\n                        >\r\n                            delete\r\n                        </v-icon>\r\n                    </td>       \r\n                </template>\r\n            </v-data-table>\r\n        </v-flex>\r\n    </v-layout>\r\n</template>\r\n<script>\r\n    import axios from 'axios';\r\n    import Swal from 'sweetalert2';\r\n    export default {\r\n        data(){\r\n            return{\r\n                dialog: false,\r\n                search:'',\r\n                productos:[],\r\n                headers: [\r\n                    { text: 'Código',value: 'codigo', sortable: false},\r\n                    { text: 'Nombre',value: 'nombre', sortable: true},\r\n                    { text: 'Cantidad',value: 'cantidad', sortable: true},\r\n                    { text: 'Opciones', value: 'opciones', sortable: false },\r\n                ],\r\n                editedIndex: -1,\r\n                id:'',\r\n                producto:'',\r\n                listaProductos:[],\r\n                cantidad: '',\r\n                valida:0,\r\n                validaMensaje:[],\r\n                adModal:0,\r\n                adAccion:0,\r\n                adNombre:'',\r\n                adId:''\r\n            }\r\n        },\r\n        computed: {\r\n            formTitle () {\r\n                return this.editedIndex === -1 ? 'Nuevo registro' : 'Editar registro'\r\n            }\r\n        },\r\n        watch: {\r\n            dialog (val) {\r\n                val || this.close()\r\n            }\r\n        },\r\n        created () {\r\n            this.listar();\r\n            this.selectProducto();\r\n        },\r\n        methods: {\r\n            selectProducto(){\r\n                let me = this;          \r\n                axios.get('producto/index').then(function (response){\r\n                    me.productos = response.data;\r\n                }).catch(function(error){\r\n                    console.log(error);\r\n                });\r\n            },\r\n            listar(){\r\n                let me = this;           \r\n                axios.get(`lista-producto/index/${this.$store.state.usuario.id}`).then(function (response){\r\n                    me.listaProductos = response.data;\r\n                }).catch(function(error){\r\n                    console.log(error);\r\n                });\r\n            },\r\n            limpiar(){\r\n                this.id = '';\r\n                this.producto = '';\r\n                this.cantidad = '';\r\n                this.editedIndex = -1;\r\n            },\r\n            guardar(){\r\n                let me = this;\r\n                if (this.editedIndex >-1){\r\n                    axios.put(`lista-producto/update/${me.id}`,\r\n                    {\r\n                        'producto':this.producto,\r\n                        'cantidad':this.cantidad,\r\n                        'user':this.$store.state.usuario.id,\r\n                    })\r\n                    .then(function(response){\r\n                        Swal.fire(\r\n                            'Modificado!',\r\n                            'Su registro ha sido modificado.',\r\n                            'success'\r\n                        )\r\n                        me.limpiar();\r\n                        me.close();\r\n                        me.listar();\r\n                    })\r\n                    .catch(function(error){\r\n                        console.log(error);\r\n                    });\r\n                }else{\r\n                    axios.post('lista-producto/store',\r\n                    {\r\n                        'producto':this.producto,\r\n                        'cantidad':this.cantidad,\r\n                        'user':this.$store.state.usuario.id,\r\n                    })\r\n                    .then(function(response){\r\n                        Swal.fire(\r\n                            'Registrado!',\r\n                            'Su registro ha sido creado.',\r\n                            'success'\r\n                        )\r\n                        me.limpiar();\r\n                        me.close();\r\n                        me.listar();\r\n                    })\r\n                    .catch(function(error){\r\n                        console.log(error);\r\n                    });\r\n                }\r\n            },\r\n            editItem (item) {\r\n                this.id = item.idList;\r\n                this.producto = item.idPro;\r\n                this.cantidad = item.cantidad;\r\n                this.dialog = true;\r\n                this.editedIndex = 1;\r\n            },\r\n            deleteItem(id){\r\n                console.log(id);\r\n                let me = this;\r\n                Swal.fire({\r\n                    title: 'Estas seguro?',\r\n                    text: \"No podrás revertir esto!\",\r\n                    icon: 'warning',\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: '#3085d6',\r\n                    cancelButtonColor: '#d33',\r\n                    confirmButtonText: '¡Sí, bórralo!',\r\n                    cancelButtonText: 'Cancelar'\r\n                    }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        axios.get(`lista-producto/delete/${id}`).then(function (response){\r\n                            Swal.fire(\r\n                                'Eliminado!',\r\n                                'Su registro ha sido eliminado.',\r\n                                'success'\r\n                            );\r\n                            me.listar();\r\n                        }).catch(function(error){\r\n                            console.log(error);\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            close () {\r\n                this.dialog = false;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"sourceRoot":"src/components"}]}